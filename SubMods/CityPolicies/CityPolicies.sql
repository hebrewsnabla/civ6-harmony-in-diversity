-- grant basic building to enable city policies
insert or replace into TraitModifiers
	(TraitType,					ModifierId)
values
	('TRAIT_LEADER_MAJOR_CIV',	'TRAIT_GRANT_EMPTY_CITY_POLICY_MODIFIER'),
	('MINOR_CIV_DEFAULT_TRAIT',	'TRAIT_GRANT_EMPTY_CITY_POLICY_MODIFIER');

insert or replace into Modifiers
	(ModifierId,									ModifierType)
values
	('TRAIT_GRANT_EMPTY_CITY_POLICY_MODIFIER',		'GRANT_BUILDING_TO_ALL_CITIES_IGNORE');

insert or replace into ModifierArguments
	(ModifierId,									Name,			Value)
values
	('TRAIT_GRANT_EMPTY_CITY_POLICY_MODIFIER',		'BuildingType', 'BUILDING_CITY_POLICY_EMPTY');

-- Main table
create table 'CityPolicyMaster'(
	'CityPolicy' TEXT NOT null,
	'BuildingType' TEXT,
	'EnableProjectType' TEXT,
	'DisableProjectType' TEXT,
	'EnableCivicType' TEXT,
	'EnableTechType' TEXT,
	'EnableCost' INT NOT null,
	'DisableCost' INT NOT null,
	PRIMARY KEY('CityPolicy')
);

------【此处需要手动修改】------
insert or replace into CityPolicyMaster
	(CityPolicy,			EnableCost,	DisableCost)
values
	('EMPTY',				0,			0),
	('LABOR',				5,			10),
	('REVISION_ALMANAC',	5,			10),
	('AGRICULTURAL_TAX',	10,			10),
	('INDUSTRAIL_TAX',		10,			10),
	('FREIGHT',				5,			10),
	('THEOLOGICAL_SEMINAR',	5,			10),
	('FORGING_IRON',		10,			10),
	('JIMI',				10,			10);
insert or replace into CityPolicyMaster
	(CityPolicy,			EnableCost,	DisableCost)
select
	'DIPLOMATIC_MEETING',	10,			10
where exists (select BuildingType from Buildings where BuildingType = 'BUILDING_CONSULATE');

update CityPolicyMaster set EnableCivicType = 'CIVIC_CODE_OF_LAWS' where CityPolicy = 'LABOR';
update CityPolicyMaster set EnableTechType  = 'TECH_IRRIGATION' where CityPolicy = 'REVISION_ALMANAC';
update CityPolicyMaster set EnableCivicType = 'CIVIC_STATE_WORKFORCE' where CityPolicy = 'AGRICULTURAL_TAX';
update CityPolicyMaster set EnableCivicType = 'CIVIC_STATE_WORKFORCE' where CityPolicy = 'INDUSTRAIL_TAX';
update CityPolicyMaster set EnableTechType = 'TECH_MATHEMATICS' where CityPolicy = 'DIPLOMATIC_MEETING';
update CityPolicyMaster set EnableTechType = 'TECH_THE_WHEEL' where CityPolicy = 'FREIGHT';
update CityPolicyMaster set EnableCivicType = 'CIVIC_MYSTICISM' where CityPolicy = 'THEOLOGICAL_SEMINAR';
update CityPolicyMaster set EnableTechType = 'TECH_IRON_WORKING' where CityPolicy = 'FORGING_IRON';
update CityPolicyMaster set EnableCivicType = 'CIVIC_DEFENSIVE_TACTICS' where CityPolicy = 'JIMI';
------【结束】------

update CityPolicyMaster set
	BuildingType 			= 'BUILDING_CITY_POLICY_' || CityPolicy,
	EnableProjectType 		= 'PROJECT_CITY_POLICY_ENABLE_' || CityPolicy,
	DisableProjectType 		= 'PROJECT_CITY_POLICY_DISABLE_' || CityPolicy;

insert or replace into Types (Type, Kind) select BuildingType, 'KIND_BUILDING' from CityPolicyMaster;
insert or replace into Types (Type, Kind) select EnableProjectType, 'KIND_PROJECT' from CityPolicyMaster where CityPolicy != 'EMPTY';
insert or replace into Types (Type, Kind) select DisableProjectType, 'KIND_PROJECT' from CityPolicyMaster where CityPolicy != 'EMPTY';

-- Use buildings as city policies, use projects to turn on and turn off the city policies.
insert or replace into Buildings
	(BuildingType,	Name,								Cost,	Description)
select
	BuildingType,	'LOC_' || BuildingType || '_NAME',	1,		'LOC_' || BuildingType || '_DESCRIPTION'
from CityPolicyMaster;

insert or replace into Buildings_XP2 (BuildingType, Pillage)
select BuildingType, 0 from CityPolicyMaster;

------【此处需要手动修改】------
-- Building Yield
update Buildings set Maintenance = 6 where BuildingType = 'BUILDING_CITY_POLICY_REVISION_ALMANAC';

-- Building effect
insert or replace into BuildingModifiers 
	(BuildingType,									ModifierId)
values 
	('BUILDING_CITY_POLICY_AGRICULTURAL_TAX',		'CITY_POLICY_AGRICULTURAL_TAX_FARM_GOLD_MODIFIER'),
	('BUILDING_CITY_POLICY_AGRICULTURAL_TAX',		'CITY_POLICY_AGRICULTURAL_TAX_FARM_FOOD_MODIFIER'),
	('BUILDING_CITY_POLICY_INDUSTRAIL_TAX',			'CITY_POLICY_INDUSTRAIL_TAX_QUARRY_GOLD_MODIFIER'),
	('BUILDING_CITY_POLICY_INDUSTRAIL_TAX',			'CITY_POLICY_INDUSTRAIL_TAX_MINE_GOLD_MODIFIER'),
	('BUILDING_CITY_POLICY_INDUSTRAIL_TAX',			'CITY_POLICY_INDUSTRAIL_TAX_QUARRY_PRODUCTION_MODIFIER'),
	('BUILDING_CITY_POLICY_INDUSTRAIL_TAX',			'CITY_POLICY_INDUSTRAIL_TAX_MINE_PRODUCTION_MODIFIER'),
	('BUILDING_CITY_POLICY_LABOR',					'CITY_POLICY_LABOR_POP_FOOD_MODIFIER'),
	('BUILDING_CITY_POLICY_LABOR',					'CITY_POLICY_LABOR_POP_PROD_MODIFIER'),
	('BUILDING_CITY_POLICY_LABOR',					'CITY_POLICY_LABOR_CITY_GROWTH_MODIFIER'),
	('BUILDING_CITY_POLICY_LABOR',					'CITY_POLICY_LABOR_CITY_AMENITIES'),
	('BUILDING_CITY_POLICY_DIPLOMATIC_MEETING',		'CITY_POLICY_DIPLOMATIC_MEETING_BASE_REDUCE_FAVOR'),
	('BUILDING_CITY_POLICY_DIPLOMATIC_MEETING',		'CITY_POLICY_DIPLOMATIC_MEETING_TIER1_REDUCE_FAVOR'),
	('BUILDING_CITY_POLICY_DIPLOMATIC_MEETING',		'CITY_POLICY_DIPLOMATIC_MEETING_TIER2_REDUCE_FAVOR'),
	('BUILDING_CITY_POLICY_DIPLOMATIC_MEETING',		'CITY_POLICY_DIPLOMATIC_MEETING_TIER3_REDUCE_FAVOR'),
	('BUILDING_CITY_POLICY_DIPLOMATIC_MEETING',		'CITY_POLICY_DIPLOMATIC_MEETING_BASE_INFLUENCE'),
	('BUILDING_CITY_POLICY_DIPLOMATIC_MEETING',		'CITY_POLICY_DIPLOMATIC_MEETING_TIER1_INFLUENCE'),
	('BUILDING_CITY_POLICY_DIPLOMATIC_MEETING',		'CITY_POLICY_DIPLOMATIC_MEETING_TIER2_INFLUENCE'),
	('BUILDING_CITY_POLICY_DIPLOMATIC_MEETING',		'CITY_POLICY_DIPLOMATIC_MEETING_TIER3_INFLUENCE'),
	('BUILDING_CITY_POLICY_JIMI',					'CITY_POLICY_JIMI_BASE_INFLUENCE'),
	('BUILDING_CITY_POLICY_REVISION_ALMANAC',		'CITY_POLICY_REVISION_ALMANAC_BONUS_RESOURCE_FARM_SCIENCE'),
	('BUILDING_CITY_POLICY_REVISION_ALMANAC',		'CITY_POLICY_REVISION_ALMANAC_LUXURY_RESOURCE_FARM_SCIENCE'),
	('BUILDING_CITY_POLICY_REVISION_ALMANAC',		'CITY_POLICY_REVISION_ALMANAC_RESOURCE_PLANTATION_SCIENCE'),
	('BUILDING_CITY_POLICY_REVISION_ALMANAC',		'CITY_POLICY_REVISION_ALMANAC_CALENDAR_PRODUCTION'),
	('BUILDING_CITY_POLICY_FREIGHT',				'CITY_POLICY_FREIGHT_INTERNATIONAL_GOLD'),
	('BUILDING_CITY_POLICY_FREIGHT',				'CITY_POLICY_FREIGHT_DOMESTIC_FOOD'),
	('BUILDING_CITY_POLICY_FREIGHT',				'CITY_POLICY_FREIGHT_DOMESTIC_PRODUCTION'),
	('BUILDING_CITY_POLICY_THEOLOGICAL_SEMINAR',	'CITY_POLICY_THEOLOGICAL_SEMINAR_CULTURE'),
	('BUILDING_CITY_POLICY_THEOLOGICAL_SEMINAR',	'CITY_POLICY_THEOLOGICAL_SEMINAR_SCIENCE'),
	('BUILDING_CITY_POLICY_THEOLOGICAL_SEMINAR',	'CITY_POLICY_THEOLOGICAL_SEMINAR_FAITH'),
	('BUILDING_CITY_POLICY_THEOLOGICAL_SEMINAR',	'CITY_POLICY_THEOLOGICAL_SEMINAR_PRESSURE');

insert or replace into Modifiers
	(ModifierId,														ModifierType,														OwnerRequirementSetId,									SubjectRequirementSetId)
values
	('HD_GRANT_ZERO_FAVOR',												'MODIFIER_PLAYER_ADD_FAVOR',										null,													null),
	('CITY_POLICY_LABOR_POP_FOOD_MODIFIER',								'MODIFIER_SINGLE_CITY_ADJUST_CITY_YIELD_PER_POPULATION',			null,													null),
	('CITY_POLICY_LABOR_POP_PROD_MODIFIER',								'MODIFIER_SINGLE_CITY_ADJUST_CITY_YIELD_PER_POPULATION',			null,													null),
	('CITY_POLICY_LABOR_CITY_GROWTH_MODIFIER',							'MODIFIER_SINGLE_CITY_ADJUST_CITY_GROWTH',							null,													null),
	('CITY_POLICY_LABOR_CITY_AMENITIES',								'MODIFIER_SINGLE_CITY_ADJUST_ENTERTAINMENT',						null,													null),
	('CITY_POLICY_AGRICULTURAL_TAX_FARM_GOLD_MODIFIER',					'MODIFIER_CITY_PLOT_YIELDS_ADJUST_PLOT_YIELD',						null,													'REQUIREMENTS_PLOT_HAS_FARM'),	
	('CITY_POLICY_AGRICULTURAL_TAX_FARM_FOOD_MODIFIER',					'MODIFIER_CITY_PLOT_YIELDS_ADJUST_PLOT_YIELD',						null,													'REQUIREMENTS_PLOT_HAS_FARM'),	
	('CITY_POLICY_INDUSTRAIL_TAX_QUARRY_GOLD_MODIFIER',					'MODIFIER_CITY_PLOT_YIELDS_ADJUST_PLOT_YIELD',						null,													'PLOT_HAS_QUARRY_REQUIREMENTS'),	
	('CITY_POLICY_INDUSTRAIL_TAX_MINE_GOLD_MODIFIER',					'MODIFIER_CITY_PLOT_YIELDS_ADJUST_PLOT_YIELD',						null,													'PLOT_HAS_MINE_REQUIREMENTS'),	
	('CITY_POLICY_INDUSTRAIL_TAX_QUARRY_PRODUCTION_MODIFIER',			'MODIFIER_CITY_PLOT_YIELDS_ADJUST_PLOT_YIELD',						null,													'PLOT_HAS_QUARRY_REQUIREMENTS'),
	('CITY_POLICY_INDUSTRAIL_TAX_MINE_PRODUCTION_MODIFIER',				'MODIFIER_CITY_PLOT_YIELDS_ADJUST_PLOT_YIELD',						null,													'PLOT_HAS_MINE_REQUIREMENTS'),
	('CITY_POLICY_DIPLOMATIC_MEETING_BASE_REDUCE_FAVOR',				'MODIFIER_PLAYER_ADJUST_EXTRA_FAVOR_PER_TURN',						'CITY_HAS_DISTRICT_DIPLOMATIC_QUARTER_REQUIREMENTS',	null),
	('CITY_POLICY_DIPLOMATIC_MEETING_TIER1_REDUCE_FAVOR',				'MODIFIER_PLAYER_ADJUST_EXTRA_FAVOR_PER_TURN',						'CITY_HAS_DISTRICT_DIPLOMATIC_QUARTER_REQUIREMENTS',	'BUILDING_IS_CONSULATE'),
	('CITY_POLICY_DIPLOMATIC_MEETING_TIER2_REDUCE_FAVOR',				'MODIFIER_PLAYER_ADJUST_EXTRA_FAVOR_PER_TURN',						'CITY_HAS_DISTRICT_DIPLOMATIC_QUARTER_REQUIREMENTS',	'BUILDING_IS_CHANCERY'),
	('CITY_POLICY_DIPLOMATIC_MEETING_TIER3_REDUCE_FAVOR',				'MODIFIER_PLAYER_ADJUST_EXTRA_FAVOR_PER_TURN',						'CITY_HAS_DISTRICT_DIPLOMATIC_QUARTER_REQUIREMENTS',	'CITY_HAS_BUILDING_RCC_OR_WPH_REQUIREMENTS'),
	('CITY_POLICY_DIPLOMATIC_MEETING_BASE_INFLUENCE',					'MODIFIER_CITY_OWNER_ATTACH_MODIFIER',								'CITY_HAS_DISTRICT_DIPLOMATIC_QUARTER_REQUIREMENTS',	'HD_PLAYER_HAS_FAVOR_REQUIREMENTS'),
	('CITY_POLICY_DIPLOMATIC_MEETING_TIER1_INFLUENCE',					'MODIFIER_CITY_OWNER_ATTACH_MODIFIER',								'CITY_HAS_DISTRICT_DIPLOMATIC_QUARTER_REQUIREMENTS',	'HD_PLAYER_HAS_FAVOR_REQUIREMENTS'),
	('CITY_POLICY_DIPLOMATIC_MEETING_TIER2_INFLUENCE',					'MODIFIER_CITY_OWNER_ATTACH_MODIFIER',								'CITY_HAS_DISTRICT_DIPLOMATIC_QUARTER_REQUIREMENTS',	'HD_PLAYER_HAS_FAVOR_REQUIREMENTS'),
	('CITY_POLICY_DIPLOMATIC_MEETING_TIER3_INFLUENCE',					'MODIFIER_CITY_OWNER_ATTACH_MODIFIER',								'CITY_HAS_DISTRICT_DIPLOMATIC_QUARTER_REQUIREMENTS',	'HD_PLAYER_HAS_FAVOR_REQUIREMENTS'),
	('CITY_POLICY_DIPLOMATIC_MEETING_BASE_INFLUENCE_MODIFIER',			'MODIFIER_PLAYER_ADJUST_INFLUENCE_POINTS_PER_TURN',					null,													null),
	('CITY_POLICY_DIPLOMATIC_MEETING_TIER1_INFLUENCE_MODIFIER',			'MODIFIER_PLAYER_ADJUST_INFLUENCE_POINTS_PER_TURN',					null,													'BUILDING_IS_CONSULATE'),	
	('CITY_POLICY_DIPLOMATIC_MEETING_TIER2_INFLUENCE_MODIFIER',			'MODIFIER_PLAYER_ADJUST_INFLUENCE_POINTS_PER_TURN',					null,													'BUILDING_IS_CHANCERY'),
	('CITY_POLICY_DIPLOMATIC_MEETING_TIER3_INFLUENCE_MODIFIER',			'MODIFIER_PLAYER_ADJUST_INFLUENCE_POINTS_PER_TURN',					null,													'CITY_HAS_BUILDING_RCC_OR_WPH_REQUIREMENTS'),
	('CITY_POLICY_JIMI_BASE_INFLUENCE',									'MODIFIER_PLAYER_ADJUST_INFLUENCE_POINTS_PER_TURN',					'CITY_HAS_DISTRICT_ENCAMPMENT_REQUIREMENTS',			'HD_PLAYER_HAS_HORSES_AND_IRON_REQUIREMENTS'),
	('CITY_POLICY_REVISION_ALMANAC_BONUS_RESOURCE_FARM_SCIENCE',		'MODIFIER_CITY_PLOT_YIELDS_ADJUST_PLOT_YIELD',						'CITY_HAS_DISTRICT_AQUEDUCT_REQUIREMENTS',				'HD_PLOT_HAS_FARM_OVER_BONUS_RESOURCES'),
	('CITY_POLICY_REVISION_ALMANAC_LUXURY_RESOURCE_FARM_SCIENCE',		'MODIFIER_CITY_PLOT_YIELDS_ADJUST_PLOT_YIELD',						'CITY_HAS_DISTRICT_AQUEDUCT_REQUIREMENTS',				'HD_PLOT_HAS_FARM_OVER_LUXURY_RESOURCES'),
	('CITY_POLICY_REVISION_ALMANAC_RESOURCE_PLANTATION_SCIENCE',		'MODIFIER_CITY_PLOT_YIELDS_ADJUST_PLOT_YIELD',						'CITY_HAS_DISTRICT_AQUEDUCT_REQUIREMENTS',				'PLOT_HAS_PLANTATION_REQUIREMENTS'),
	('CITY_POLICY_REVISION_ALMANAC_CALENDAR_PRODUCTION',				'MODIFIER_SINGLE_CITY_ADJUST_YIELD_CHANGE',							'CITY_HAS_DISTRICT_AQUEDUCT_REQUIREMENTS',				'PLAYER_HAS_CALENDAR_REQUIREMENTS'),
	('CITY_POLICY_FREIGHT_INTERNATIONAL_GOLD',							'MODIFIER_SINGLE_CITY_ADJUST_TRADE_ROUTE_YIELD_FOR_INTERNATIONAL',	null,													'PLAYER_HAS_ENOUGH_HORSES_REQUIREMENTS'),
	('CITY_POLICY_FREIGHT_DOMESTIC_FOOD',								'MODIFIER_SINGLE_CITY_ADJUST_TRADE_ROUTE_YIELD_TO_OTHERS',			null,													'PLAYER_HAS_ENOUGH_HORSES_REQUIREMENTS'),
	('CITY_POLICY_FREIGHT_DOMESTIC_PRODUCTION',							'MODIFIER_SINGLE_CITY_ADJUST_TRADE_ROUTE_YIELD_TO_OTHERS',			null,													'PLAYER_HAS_ENOUGH_HORSES_REQUIREMENTS'),
	('CITY_POLICY_THEOLOGICAL_SEMINAR_CULTURE',							'MODIFIER_SINGLE_CITY_ADJUST_YIELD_CHANGE',							null,													null),
	('CITY_POLICY_THEOLOGICAL_SEMINAR_SCIENCE',							'MODIFIER_SINGLE_CITY_ADJUST_YIELD_CHANGE',							null,													null),
	('CITY_POLICY_THEOLOGICAL_SEMINAR_FAITH',							'MODIFIER_SINGLE_CITY_ADJUST_YIELD_CHANGE',							null,													null),
	('CITY_POLICY_THEOLOGICAL_SEMINAR_PRESSURE',						'MODIFIER_SINGLE_CITY_RELIGION_PRESSURE',							null,													null);

insert or replace into ModifierArguments
	(ModifierId,															Name,			Value)
values
	('HD_GRANT_ZERO_FAVOR',													'Amount',		0),
	('CITY_POLICY_AGRICULTURAL_TAX_FARM_GOLD_MODIFIER',						'YieldType',	'YIELD_GOLD'),
	('CITY_POLICY_AGRICULTURAL_TAX_FARM_GOLD_MODIFIER',						'Amount',		2),
	('CITY_POLICY_AGRICULTURAL_TAX_FARM_FOOD_MODIFIER',						'YieldType',	'YIELD_FOOD'),
	('CITY_POLICY_AGRICULTURAL_TAX_FARM_FOOD_MODIFIER',						'Amount',		-1),
	('CITY_POLICY_INDUSTRAIL_TAX_QUARRY_GOLD_MODIFIER',						'YieldType',	'YIELD_GOLD'),
	('CITY_POLICY_INDUSTRAIL_TAX_QUARRY_GOLD_MODIFIER',						'Amount',		2),
	('CITY_POLICY_INDUSTRAIL_TAX_MINE_GOLD_MODIFIER',						'YieldType',	'YIELD_GOLD'),
	('CITY_POLICY_INDUSTRAIL_TAX_MINE_GOLD_MODIFIER',						'Amount',		2),
	('CITY_POLICY_INDUSTRAIL_TAX_QUARRY_PRODUCTION_MODIFIER',				'YieldType',	'YIELD_PRODUCTION'),
	('CITY_POLICY_INDUSTRAIL_TAX_QUARRY_PRODUCTION_MODIFIER',				'Amount',		-1),
	('CITY_POLICY_INDUSTRAIL_TAX_MINE_PRODUCTION_MODIFIER',					'YieldType',	'YIELD_PRODUCTION'),
	('CITY_POLICY_INDUSTRAIL_TAX_MINE_PRODUCTION_MODIFIER',					'Amount',		-1),
	('CITY_POLICY_LABOR_POP_FOOD_MODIFIER',									'YieldType',	'YIELD_FOOD'),
	('CITY_POLICY_LABOR_POP_FOOD_MODIFIER',									'Amount',		-1),
	('CITY_POLICY_LABOR_POP_PROD_MODIFIER',									'YieldType',	'YIELD_PRODUCTION'),
	('CITY_POLICY_LABOR_POP_PROD_MODIFIER',									'Amount',		1.5),
	('CITY_POLICY_LABOR_CITY_GROWTH_MODIFIER',								'Amount',		-75),
	('CITY_POLICY_LABOR_CITY_AMENITIES',									'Amount',		-1),
	('CITY_POLICY_DIPLOMATIC_MEETING_BASE_REDUCE_FAVOR',					'Amount',		-2),
	('CITY_POLICY_DIPLOMATIC_MEETING_TIER1_REDUCE_FAVOR',					'Amount',		-2),
	('CITY_POLICY_DIPLOMATIC_MEETING_TIER2_REDUCE_FAVOR',					'Amount',		-2),
	('CITY_POLICY_DIPLOMATIC_MEETING_TIER3_REDUCE_FAVOR',					'Amount',		-2),
	('CITY_POLICY_DIPLOMATIC_MEETING_BASE_INFLUENCE',						'ModifierId',	'CITY_POLICY_DIPLOMATIC_MEETING_BASE_INFLUENCE_MODIFIER'),
	('CITY_POLICY_DIPLOMATIC_MEETING_TIER1_INFLUENCE',						'ModifierId',	'CITY_POLICY_DIPLOMATIC_MEETING_TIER1_INFLUENCE_MODIFIER'),
	('CITY_POLICY_DIPLOMATIC_MEETING_TIER2_INFLUENCE',						'ModifierId',	'CITY_POLICY_DIPLOMATIC_MEETING_TIER2_INFLUENCE_MODIFIER'),
	('CITY_POLICY_DIPLOMATIC_MEETING_TIER3_INFLUENCE',						'ModifierId',	'CITY_POLICY_DIPLOMATIC_MEETING_TIER3_INFLUENCE_MODIFIER'),
	('CITY_POLICY_DIPLOMATIC_MEETING_BASE_INFLUENCE_MODIFIER',				'Amount',		5),
	('CITY_POLICY_DIPLOMATIC_MEETING_TIER1_INFLUENCE_MODIFIER',				'Amount',		5),
	('CITY_POLICY_DIPLOMATIC_MEETING_TIER2_INFLUENCE_MODIFIER',				'Amount',		5),
	('CITY_POLICY_DIPLOMATIC_MEETING_TIER3_INFLUENCE_MODIFIER',				'Amount',		5),
	('CITY_POLICY_JIMI_BASE_INFLUENCE',										'Amount',		2),
	('CITY_POLICY_REVISION_ALMANAC_BONUS_RESOURCE_FARM_SCIENCE',			'YieldType',	'YIELD_FOOD,YIELD_PRODUCTION,YIELD_SCIENCE'),
	('CITY_POLICY_REVISION_ALMANAC_BONUS_RESOURCE_FARM_SCIENCE',			'Amount',		'-1,1,1'),
	('CITY_POLICY_REVISION_ALMANAC_LUXURY_RESOURCE_FARM_SCIENCE',			'YieldType',	'YIELD_FOOD,YIELD_PRODUCTION,YIELD_SCIENCE'),
	('CITY_POLICY_REVISION_ALMANAC_LUXURY_RESOURCE_FARM_SCIENCE',			'Amount',		'-1,1,1'),
	('CITY_POLICY_REVISION_ALMANAC_RESOURCE_PLANTATION_SCIENCE',			'YieldType',	'YIELD_FOOD,YIELD_PRODUCTION,YIELD_SCIENCE'),
	('CITY_POLICY_REVISION_ALMANAC_RESOURCE_PLANTATION_SCIENCE',			'Amount',		'-1,1,1'),
	('CITY_POLICY_REVISION_ALMANAC_CALENDAR_PRODUCTION',					'YieldType',	'YIELD_PRODUCTION'),
	('CITY_POLICY_REVISION_ALMANAC_CALENDAR_PRODUCTION',					'Amount',		2),
	('CITY_POLICY_FREIGHT_INTERNATIONAL_GOLD',								'YieldType',	'YIELD_GOLD'),
	('CITY_POLICY_FREIGHT_INTERNATIONAL_GOLD',								'Amount',		8),
	('CITY_POLICY_FREIGHT_DOMESTIC_FOOD',									'YieldType',	'YIELD_FOOD'),
	('CITY_POLICY_FREIGHT_DOMESTIC_FOOD',									'Amount',		1),
	('CITY_POLICY_FREIGHT_DOMESTIC_FOOD',									'Domestic',		1),
	('CITY_POLICY_FREIGHT_DOMESTIC_PRODUCTION',								'YieldType',	'YIELD_PRODUCTION'),
	('CITY_POLICY_FREIGHT_DOMESTIC_PRODUCTION',								'Amount',		1),
	('CITY_POLICY_FREIGHT_DOMESTIC_PRODUCTION',								'Domestic',		1),
	('CITY_POLICY_THEOLOGICAL_SEMINAR_CULTURE',								'YieldType',	'YIELD_CULTURE'),
	('CITY_POLICY_THEOLOGICAL_SEMINAR_CULTURE',								'Amount',		1),
	('CITY_POLICY_THEOLOGICAL_SEMINAR_SCIENCE',								'YieldType',	'YIELD_SCIENCE'),
	('CITY_POLICY_THEOLOGICAL_SEMINAR_SCIENCE',								'Amount',		1),
	('CITY_POLICY_THEOLOGICAL_SEMINAR_FAITH',								'YieldType',	'YIELD_FAITH'),
	('CITY_POLICY_THEOLOGICAL_SEMINAR_FAITH',								'Amount',		-3),
	('CITY_POLICY_THEOLOGICAL_SEMINAR_PRESSURE',							'Amount',		-50);

delete from BuildingModifiers where BuildingType = 'BUILDING_CITY_POLICY_DIPLOMATIC_MEETING'
	and not exists (select BuildingType from Buildings where BuildingType = 'BUILDING_CITY_POLICY_DIPLOMATIC_MEETING');
delete from Modifiers where ModifierId like 'CITY_POLICY_DIPLOMATIC_MEETING_%'
	and not exists (select BuildingType from Buildings where BuildingType = 'BUILDING_CITY_POLICY_DIPLOMATIC_MEETING');
delete from ModifierArguments where ModifierId like 'CITY_POLICY_DIPLOMATIC_MEETING_%'
	and not exists (select BuildingType from Buildings where BuildingType = 'BUILDING_CITY_POLICY_DIPLOMATIC_MEETING');

------【结束】------

-- Enable Projects
insert or replace into Projects
	(ProjectType, Name, ShortName, Description, Cost, PrereqCivic, PrereqTech, AdvisorType)
select
	EnableProjectType,
	'LOC_'||EnableProjectType||'_NAME',
	'LOC_'||EnableProjectType||'_SHORT_NAME',
	'LOC_'||EnableProjectType||'_DESCRIPTION',
	EnableCost,
	EnableCivicType,
	EnableTechType,
	'ADVISOR_GENERIC'
from CityPolicyMaster where CityPolicy != 'EMPTY';
-- Disable Projects
insert or replace into Projects
	(ProjectType, Name, ShortName, Description, Cost, PrereqCivic, PrereqTech, AdvisorType)
select
	DisableProjectType,
	'LOC_'||DisableProjectType||'_NAME',
	'LOC_'||DisableProjectType||'_SHORT_NAME',
	'LOC_'||DisableProjectType||'_DESCRIPTION',
	DisableCost,
	null,
	null,
	'ADVISOR_GENERIC'
from CityPolicyMaster where CityPolicy != 'EMPTY';

------【此处需要手动修改】------
update Projects set PrereqDistrict = 'DISTRICT_AQUEDUCT' where ProjectType = 'PROJECT_CITY_POLICY_ENABLE_REVISION_ALMANAC';
update Projects set PrereqDistrict = 'DISTRICT_DIPLOMATIC_QUARTER' where ProjectType = 'PROJECT_CITY_POLICY_ENABLE_DIPLOMATIC_MEETING';
update Projects set PrereqDistrict = 'DISTRICT_ENCAMPMENT' where ProjectType = 'PROJECT_CITY_POLICY_ENABLE_JIMI';
------【结束】------

-- Enable
insert or replace into Project_BuildingCosts
	(ProjectType,			ConsumedBuildingType)
select
	EnableProjectType,		'BUILDING_CITY_POLICY_EMPTY'
from CityPolicyMaster where CityPolicy != 'EMPTY';
insert or replace into Projects_XP2
	(ProjectType,			RequiredBuilding,				CreateBuilding)
select
	EnableProjectType,		'BUILDING_CITY_POLICY_EMPTY',	BuildingType
from CityPolicyMaster where CityPolicy != 'EMPTY';

-- Disable
insert or replace into Projects_XP2
	(ProjectType,			RequiredBuilding,				CreateBuilding)
select
	DisableProjectType,		BuildingType,					'BUILDING_CITY_POLICY_EMPTY'
from CityPolicyMaster where CityPolicy != 'EMPTY';
insert or replace into Project_BuildingCosts
	(ProjectType,			ConsumedBuildingType)
select
	DisableProjectType,		BuildingType
from CityPolicyMaster where CityPolicy != 'EMPTY';

insert or replace into MutuallyExclusiveBuildings (Building, MutuallyExclusiveBuilding)
select a.BuildingType, b.BuildingType from CityPolicyMaster a, CityPolicyMaster b where a.BuildingType != b.BuildingType;
