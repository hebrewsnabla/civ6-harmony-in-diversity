和而不同在1.2.5版本之后将采用新的 changelog 格式。

请各位开发者在 `Changelog` 文件夹中建立自己的 changelog 文件，命名方式 `分支名.txt`。在每次编辑代码后，同步在自己的 changelog 文件中记录改动。大部分开发者只需要阅读 changelog 文件格式一节，后两节高级功能可以不读。

### changelog 文件格式

changelog 每一行作为一个句子，允许空行，`//` 后为注释。在开始改动之前，使用

`version 1.2.5.1`

来声明当前版本。在一行改动中，用中括号 `[]` 标记可以链接的内容以及需要附带 ICON_XXX 图标的内容。例如

`[哈瓦那]：新增沿海惊艳额外+1[琴]。`

或

`[哈瓦那]：新增沿海惊艳额外+1[文化值]。`

或

`[哈瓦那]：新增沿海惊艳额外+1[ICON_CULTURE]文化值。`

均会在最终专栏/百科更新中显示为

> [哈瓦那](http://civ6hd.wiki/zh_Hans_CN/citystates/cse_maritime/CIVILIZATION_CSE_HAVANA.html)：新增沿海惊艳额外+1![](http://civ6hd.wiki/icons/ICON_CULTURE.png)文化值。

### 预览changelog

请需要预览的开发人员下载java，然后在命令行运行

```
cd Changelog
java -jar build.jar 版本号
```

即可在 `Changelog` 文件夹中生成对应版本的Changelog预览。其中未被成功解析的中括号内容会在命令行中输出。

### 指定分类

在合成新版本 Changelog 时，会采用每一行第一个链接来指定这条改动的分类，例如上一条改动会依据哈瓦那被自动分类到“城邦改动”中。如果想手动指定一行的分类，请使用

`{cat=地图相关}减少千湖、星罗棋布、盘古上的山脉数量，增加盘古图上湖泊的数量。`

如果有连续的多行需要手动指定分类，可以使用

```
cat 改良业绩机制
锤转箱：飞行解锁，甘榜屋、火车站、大庄园、内陆牧场、海洋家园
琴转箱：飞行解锁，巴特依、堡垒、冰球场、波斯庭院、城堡庄园、高尔夫球场、马普切木人、狮身人面像、市立公园、长城。直接解锁，摩艾石像、生态博物馆。
鸽转箱：飞行解锁，独石教堂、坟墩、巨神头像、努比亚金字塔、修道院
瓶转箱：飞行解锁，大寺、阿卡萨城堡、传教团、金字形神塔
金转箱：资本主义解锁，营地、种植园、牧场、伐木场、渔船、圩田、棚屋、圆顶集市、公司
end cat
```

如果需要指定二级/三级分类，请使用

`{cat=奇观改动,subcat=NAT Pack 1 国家奇观适配}[大铁厂]：[批量生产]解锁 ...`

或

```
cat 区域&建筑改动
subcat 平衡性调整部分
subsubcat [商业中心]
[市场]：基础产出改为5[金]。新增2人口[金]，移除打折。
[铸币厂]：新增货贝+3[金]。
...
end subsubcat
end subcat
end cat
```

### 指定顺序

单个文件中的改动/二级/三级分类在合成新版本 changelog 时会按照声明顺序排列, 但多个文件中同条目下的改动顺序较为随机. 如需要对顺序进行调整, 请使用

`{order=-1}[瓦特]：该区域的地区性建筑辐射范围+3，+3[科技值]。`

或

```
cat {order=-1}万神殿信条
...
end cat
```

或（建议xhh等主要开发成员用较低数值把自己的整个 changelog 包起来，以保证主要改动排序比其它改动靠前）

```
order -10000
...
end order
```

